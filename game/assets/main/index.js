System.register("chunks:///_virtual/ADManager.ts",["cc","./Tools.ts","./AudioManager.ts"],(function(e){var o,a,t,i,n;return{setters:[function(e){o=e.cclegacy,a=e._decorator,t=e.VideoPlayer},function(e){i=e.default},function(e){n=e.AudioManager}],execute:function(){var s,c;o._RF.push({},"6affdk3y29GZovXMKYivor5","ADManager",void 0);var r=a.ccclass;a.property,e("ADManager",r("ADManager")(((c=function(){function e(){}return e.showVideoAd1=function(e){var o=this;this.videoPlayer.remoteURL=this.videoClipUrls[i.getRandomNum(0,3)],this.videoPlayer.node.once(t.EventType.READY_TO_PLAY,(function(){console.log("ready-to-play"),o.videoPlayer.node.parent.active=!0,o.videoPlayer.node.active=!0,o.videoPlayer.play(),n.canMusicPlay&&o.gameAudioSource.pause()})),this.videoPlayer.node.once(t.EventType.COMPLETED,(function(){console.log("completed"),o.videoPlayer.node.parent.active=!1,o.videoPlayer.node.active=!1,o.videoPlayer.remoteURL=null,n.canMusicPlay&&o.gameAudioSource.play(),e()}))},e.stopVideo1=function(){console.log("closed"),this.videoPlayer.node.parent.active=!1,this.videoPlayer.node.active=!1,this.videoPlayer.remoteURL=null,n.canMusicPlay&&this.gameAudioSource.play()},e}()).videoClipUrls=["https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/dance.m4v","https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/father.m4v","https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/work.m4v","https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/world-cup.m4v"],c.videoPlayer=null,c.gameAudioSource=null,s=c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/AppConfig.ts",["cc"],(function(e){var c,t;return{setters:[function(e){c=e.cclegacy,t=e._decorator}],execute:function(){c._RF.push({},"916ffrHmOlGabHMXSPJuAJD","AppConfig",void 0);t.ccclass,t.property;var n=e("AdType",function(e){return e[e.WXAD=0]="WXAD",e[e.LOCALAD=1]="LOCALAD",e}({})),r=e("AppConfig",(function(){}));r.appid="wx41c2d2eceb8f1f74",r.secret="b8aa5f81f30c11a30a913cdb378725b4",r.ad={banner:"",video:"",interstitial:""},r.adType=n.LOCALAD,c._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc"],(function(a){var c,e;return{setters:[function(a){c=a.cclegacy,e=a._decorator}],execute:function(){var r,n;c._RF.push({},"deec7kJNm5I8JYr+0k9/GSk","AudioManager",void 0);var u=e.ccclass;e.property,a("AudioManager",u("AudioManager")(((n=function(){}).canMusicPlay=!0,n.canSoundPlay=!0,r=n))||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/block.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,t,e,o,u,s,r,c,a,l,p,h,d,f;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){u=i.cclegacy,s=i._decorator,r=i.Node,c=i.Sprite,a=i.SpriteFrame,l=i.Vec3,p=i.tween,h=i.UITransform,d=i.Rect,f=i.Component}],execute:function(){var v,b,y,g,Y,S,k,T,m;u._RF.push({},"6cb43f0XAtE34BQ3z1S3Fgm","block",void 0);var w=s.ccclass,B=s.property;i("block",(v=w("block"),b=B({type:r}),y=B({type:c}),g=B({type:[a]}),v((k=n((S=function(i){function n(){for(var n,t=arguments.length,u=new Array(t),s=0;s<t;s++)u[s]=arguments[s];return n=i.call.apply(i,[this].concat(u))||this,e(n,"nodeYinYing",k,o(n)),e(n,"spYuanSu",T,o(n)),e(n,"spfYuanSu",m,o(n)),n.canTouch=void 0,n.blockType=void 0,n.is_di=void 0,n.numDi=void 0,n.isXiaoChu=void 0,n.isMoving=void 0,n.v3BlockOld=void 0,n}t(n,i);var u=n.prototype;return u.start=function(){},u.init=function(i){this.blockType=i,this.canTouch=!0,this.is_di=!1,this.spYuanSu.spriteFrame=this.spfYuanSu[this.blockType]},u.initDi=function(i){this.v3BlockOld=new l(0,0,0),this.isMoving=!0,this.isXiaoChu=!1,this.numDi=-1,this.blockType=i,this.canTouch=!1,this.is_di=!0,this.nodeYinYing.active=!1,this.spYuanSu.spriteFrame=this.spfYuanSu[this.blockType]},u.shuaXinBlockSPF=function(i){var n=this;this.blockType=i,p(this.spYuanSu.node).to(.1,{scale:new l(0,0,0)}).call((function(){n.spYuanSu.spriteFrame=n.spfYuanSu[n.blockType]})).to(.1,{scale:new l(.85,.85,.85)}).start()},u.setTouch=function(i){this.canTouch=i,this.canTouch?this.nodeYinYing.active=!1:this.nodeYinYing.active=!0},u.getBoundingBox_pz=function(){var i=this.node.getComponent(h).getBoundingBox();return new d(i.x+5,i.y+5,i.width-10,i.height-10)},u.update=function(i){},n}(f)).prototype,"nodeYinYing",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(S.prototype,"spYuanSu",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(S.prototype,"spfYuanSu",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=S))||Y));u._RF.pop()}}}));

System.register("chunks:///_virtual/BookLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonManager.ts","./PrefabManager.ts"],(function(e){var t,n,i,o,a,r,l,s,c,g,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.instantiate,a=e.Label,r=e.Sprite,l=e.ScrollView,s=e.v2,c=e.Component},function(e){g=e.JsonManager},function(e){h=e.PrefabManager}],execute:function(){var u;n._RF.push({},"d48c3zT4C1PkJ3cU9N65PYJ","BookLayer",void 0);var d=i.ccclass;i.property,e("Book",d("Book")(u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).listPanel=null,t.inited=!1,t}t(n,e);var i=n.prototype;return i.onLoad=function(){this.listPanel=this.node.getChildByName("PanelBg").getChildByName("ListPanel").getChildByName("view").getChildByName("content")},i.onEnable=function(){this.initScroll(),this.inited||this.initLayer()},i.initLayer=function(){if(g.bookList.length>0){for(var e=0;e<g.bookList.length;e++){var t=o(h.bookItemPrefab);t.getChildByName("Id").getComponent(a).string=e<9?"0"+(e+1):""+(e+1),t.getChildByName("Icon").getChildByName("Icon").getComponent(r).spriteFrame=g.bookList[e].icon,t.getChildByName("Name").getComponent(a).string=g.bookList[e].name,t.setParent(this.listPanel)}this.inited=!0}},i.initScroll=function(){this.node.getChildByName("PanelBg").getChildByName("ListPanel").getComponent(l).scrollToOffset(s(0,0))},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./block.ts","./gameData.ts","./AudioManager.ts","./HttpManager.ts","./Tools.ts"],(function(e){var t,i,n,o,s,r,a,l,h,c,u,d,p,m,v,g,f,y,B,k,b,T,C,D,S,w,L,x,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Prefab,l=e.Node,h=e.Label,c=e.AudioClip,u=e.view,d=e.Vec3,p=e.AudioSource,m=e.input,v=e.Input,g=e.director,f=e.instantiate,y=e.Sprite,B=e.Color,k=e.tween,b=e.UITransform,T=e.Vec2,C=e.sys,D=e.Component},function(e){S=e.block},function(e){w=e.gameData},function(e){L=e.AudioManager},function(e){x=e.HttpManager},function(e){P=e.default}],execute:function(){var E,M,A,N,X,J,_,U,O,I,R,V,z,F,j,H,K,G,W,q,Z,Q,Y,$,ee,te,ie;s._RF.push({},"59e28PFEKdEeL7ZeLR8eOgx","game",void 0);var ne=r.ccclass,oe=r.property;e("game",(E=ne("game"),M=oe({type:a}),A=oe({type:l}),N=oe({type:l}),X=oe({type:l}),J=oe({type:h}),_=oe({type:l}),U=oe({type:l}),O=oe({type:h}),I=oe({type:a}),R=oe({type:[h]}),V=oe({type:[c]}),z=oe(l),E((H=t((j=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"preBlock",H,o(t)),n(t,"parentBlocks",K,o(t)),n(t,"parentBlocksDi",G,o(t)),n(t,"nodeTip",W,o(t)),n(t,"labelLevel",q,o(t)),n(t,"layerOver",Z,o(t)),n(t,"parentEdit",Q,o(t)),n(t,"labelBlocksInfo",Y,o(t)),n(t,"preBlockEdit",$,o(t)),n(t,"arrLabelDJ",ee,o(t)),n(t,"arrAudio",te,o(t)),n(t,"btnClose",ie,o(t)),t.propUsedThisLevel=[!1,!1,!1,!1],t.numTouchStart=void 0,t.numTouchEnd=void 0,t.gameData=void 0,t.numLevel=void 0,t.xxStartDi=void 0,t.yyBlockChu=void 0,t.gameType=void 0,t.numBlockTypeGeShu=void 0,t.numBlockType=void 0,t.numBlocksKuaiGeShu=void 0,t.numBlocksKuai=void 0,t.arrNumDJ=void 0,t.audioSource=void 0,t.isEditing=void 0,t.numTypeEdit=void 0,t.numBlockEditMove=void 0,t.numTypeSuiJi=void 0,t.numSuiJi=void 0,t.bannerAd=void 0,t.wx=void 0,t.isWX=void 0,t.idBannerAD=void 0,t.interstitialAd=void 0,t.videoAd=void 0,t.numDJ=void 0,t.idChaPingAD=void 0,t.idJiLiShiPinAD=void 0,t.f_scale=void 0,t.layerSetting=void 0,t.timer=void 0,t.timerLabel=void 0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.layerSetting=this.node.getChildByName("LayerSetting"),this.timerLabel=this.node.getChildByName("top").getChildByName("Timer").getComponent(h),this.disableVideoPlayer()},s.start=function(){console.log("start"),this.layerSetting.active=!1,this.isWX=!1,this.wx=window.wx,this.idBannerAD="xxxxxx",this.idChaPingAD="xxxxxx",this.idJiLiShiPinAD="xxxxxx",this.numLevel=0,this.numBlockTypeGeShu=5,this.numBlockType=2,this.numBlocksKuaiGeShu=30,this.numBlocksKuai=3,this.arrNumDJ=[3,3,3,3],this.isEditing=this.parentEdit.active,this.numTypeEdit=1,this.numTypeSuiJi=2,this.numSuiJi=60,this.numDJ=-1,this.f_scale=u.getVisibleSize().width/720,this.parentBlocks.scale=new d(this.f_scale,this.f_scale,this.f_scale),this.parentBlocksDi.scale=new d(this.f_scale,this.f_scale,this.f_scale),console.log(this.f_scale),this.audioSource=this.node.getComponent(p),L.canMusicPlay&&this.audioSource.play(),this.yyBlockChu=120,this.xxStartDi=-240,this.gameData=this.node.getComponent(w),this.createBlocksEdit(),this.init(),this.disableVideoPlayer(),this.isWX&&(this.bannerAd=null,this.interstitialAd=null,this.videoAd=null,console.log("Ad functionality disabled"),this.wx.showShareMenu()),m.on(v.EventType.TOUCH_START,this.onTouchStart,this),m.on(v.EventType.TOUCH_MOVE,this.onTouchMove,this),m.on(v.EventType.TOUCH_END,this.onTouchEnd,this),this.timerInit(),this.schedule(this.timerRun,1)},s.shareFirend=function(e){if(void 0!==this.wx){this.wx.shareAppMessage({title:"This is so much fun, come play together!",imageUrl:"https://download.cocos.com/CocosStore/icon/7374c4a18a774ab7a05b72d5d8e5fed6/7374c4a18a774ab7a05b72d5d8e5fed6.png"}),e&&e()}},s.showJiLiShiPin=function(){this.showTip("This prop has been used this level, try next level!")},s.initJiLiShiPin=function(){console.log("Ad functionality disabled")},s.initChaPing=function(){console.log("Ad functionality disabled")},s.initBannerAD=function(){console.log("Ad functionality disabled")},s.init=function(){if(this.gameType=0,this.numTouchStart=-1,this.numTouchEnd=-1,this.layerOver.active=!1,this.nodeTip.scale=new d(0,0,0),this.resetPropUsage(),this.shuaXinLevelInfo(),this.shuaXinDJ(),this.isEditing)for(var e=this.parentBlocks.children,t=0;t<e.length;t++){var i=e[t].getComponent(S),n=Math.floor(30*Math.random());i.init(n)}else this.parentBlocks.removeAllChildren(),this.crateBlocks();this.parentBlocksDi.removeAllChildren(),this.pddj(),this.btn3()},s.resetPropUsage=function(){this.propUsedThisLevel=[!1,!1,!1,!1]},s.canUsePropThisLevel=function(e){return!this.propUsedThisLevel[e]},s.markPropUsed=function(e){this.propUsedThisLevel[e]=!0},s.disableVideoPlayer=function(){var e=this.node.getChildByName("VideoPlayer");e&&(e.active=!1,console.log("Found and disabled VideoPlayer by node name"));var t=this.node.getComponentsInChildren("VideoPlayer");if(t&&t.length>0){for(var i=0;i<t.length;i++){var n=t[i];n.node&&(n.node.active=!1,n.node.parent&&(n.node.parent.active=!1))}console.log("Found and disabled VideoPlayer by component search")}var o=g.getScene();if(o){var s=o.getComponentsInChildren("VideoPlayer");if(s&&s.length>0){for(var r=0;r<s.length;r++){var a=s[r];a.node&&(a.node.active=!1,a.node.parent&&(a.node.parent.active=!1))}console.log("Found and disabled VideoPlayer through scene root node")}}for(var l=this.node.children,h=0;h<l.length;h++){var c=l[h];(c.name.includes("Video")||c.name.includes("video"))&&(c.active=!1,console.log("Disabled node containing Video:",c.name))}console.log("VideoPlayer component disable completed")},s.createBlocksEdit=function(){for(var e=0;e<15;e++)for(var t=0;t<13;t++){var i=f(this.preBlockEdit);i.parent=this.parentEdit,i.setPosition(40*e-280,45*t-55,0),e==Math.floor(7.5)&&(i.getComponent(y).color=new B(255,0,0,98))}},s.showTip=function(e){this.nodeTip.getChildByName("Label").getComponent(h).string=e,k(this.nodeTip).to(.1,{scale:new d(1,1,1)}).delay(1.5).to(.1,{scale:new d(0,0,0)}).start()},s.shuaXinDJ=function(){for(var e=0;e<this.arrLabelDJ.length;e++)this.arrLabelDJ[e].string=this.arrNumDJ[e]},s.shuaXinLevelInfo=function(){var e=this.numLevel+1;if(this.labelLevel.string="Level "+e,this.isEditing){1==this.numTypeEdit?this.labelLevel.string="Add Block Mode":this.labelLevel.string="Delete Block Mode";var t=this.parentBlocks.children.length;t%3==0?(this.labelBlocksInfo.string="Total "+t+" blocks, multiple of 3",this.labelBlocksInfo.color=new B(0,0,0)):(this.labelBlocksInfo.string="Total "+t+" blocks, not multiple of 3",this.labelBlocksInfo.color=new B(255,0,0))}},s.crateBlocks=function(){var e=-1,t=this.numBlockTypeGeShu+this.numLevel*this.numBlockType;this.gameData.arrTypeLevel[this.numLevel]&&(t=this.gameData.arrTypeLevel[this.numLevel]),t>15&&(t=15);var i=Math.floor(Math.random()*t);if(this.gameData.arrPosLevel[this.numLevel])for(var n=0;n<this.gameData.arrPosLevel[this.numLevel].length;n++){e++;var o=f(this.preBlock),s=this.gameData.arrPosLevel[this.numLevel][n].x,r=this.gameData.arrPosLevel[this.numLevel][n].y;o.setPosition(s,r,0),o.parent=this.parentBlocks;var a=o.getComponent(S);e%3==0&&(i=Math.floor(Math.random()*t)),a.init(i)}else{for(var l=this.numBlocksKuaiGeShu+this.numLevel*this.numBlocksKuai,h=[],c=this.parentEdit.children,u=0;u<c.length;u++)"blockEdit"==c[u].name&&h.push(c[u].getPosition());for(var d=0;d<l;d++){e++;var p=f(this.preBlock),m=500*Math.random()-250,v=510*Math.random()-60;if(1==this.numTypeSuiJi){var g=Math.floor(Math.random()*h.length);m=h[g].x,v=h[g].y}else if(2==this.numTypeSuiJi&&Math.random()>.5){var y=Math.floor(Math.random()*h.length);m=h[y].x,v=h[y].y}p.setPosition(m,v,0),p.parent=this.parentBlocks;var B=p.getComponent(S);e%3==0&&(i=Math.floor(Math.random()*t)),console.log(i),B.init(i)}}},s.createBlockToBi=function(e,t){var i=this,n=f(this.preBlock);n.parent=this.parentBlocksDi;var o=n.getComponent(S);o.initDi(e);var s=this.getNumDi();console.log("num_di:"+s),this.shuaXinNumDi(n);var r=this.xxStartDi+80*s,a=this.parentBlocks.getComponent(b).convertToWorldSpaceAR(t),l=this.parentBlocksDi.getComponent(b).convertToNodeSpaceAR(a);n.setPosition(l),o.v3BlockOld=l,console.log("v3BlockOld:"+o.v3BlockOld),k(n).to(.15,{position:new d(r,0,0)}).call((function(){i.pdXiaoChu(n)})).start()},s.pdXiaoChu=function(e){var t=e.getComponent(S);t.isMoving=!1;for(var i=t.numDi,n=this.parentBlocksDi.children,o=[],s=0;s<n.length;s++){var r=n[s].getComponent(S);t.blockType==r.blockType&&0==r.isXiaoChu&&o.push(n[s])}var a=!1;if(3==o.length)for(var l=o.length-1;l>=0;l--){o[l].getComponent(S).isXiaoChu=!0,k(o[l]).delay(.05).to(.08,{scale:new d(0,0,0)}).removeSelf().start(),a=!0}if(a){L.canSoundPlay&&this.audioSource.playOneShot(this.arrAudio[1],1);for(var c=this.parentBlocksDi.children,u=0;u<c.length;u++){var p=c[u].getComponent(S);if(p.numDi>i){p.numDi=p.numDi-3;var m=this.xxStartDi+80*p.numDi;k(c[u]).delay(.05).to(.08,{position:new d(m,0,0)}).start()}}}for(var v=0,g=this.parentBlocksDi.children,f=0;f<g.length;f++){g[f].getComponent(S).isXiaoChu&&v++}g.length-v>=7&&(this.gameType=-1,L.canSoundPlay&&this.audioSource.playOneShot(this.arrAudio[2],1),console.log("Game Over"),this.unschedule(this.timerRun),this.interstitialAd&&this.interstitialAd.show().catch((function(e){console.error(e)})),this.scheduleOnce((function(){var e=this.layerOver.getChildByName("Panel").getChildByName("LevelNum").getChildByName("LevelNumBg").children[0].getComponent(h),t=this.layerOver.getChildByName("Panel").getChildByName("Time").getChildByName("TimeBg").children[0].getComponent(h);e.string=this.numLevel,t.string=P.timeFormat(this.timer),this.layerOver.active=!0}),.5))},s.getNumDi=function(){for(var e=this.parentBlocksDi.children,t=e[e.length-1].getComponent(S),i=0,n=0;n<e.length;n++){e[n].getComponent(S).isXiaoChu&&i++}e.length-i==1&&(t.numDi=0);for(var o=e.length-2;o>=0;o--){var s=e[o].getComponent(S);if(t.blockType==s.blockType&&0==s.isXiaoChu)return t.numDi=s.numDi+1,t.numDi}return t.numDi=e.length-1-i,t.numDi},s.shuaXinNumDi=function(e){for(var t=e.getComponent(S).numDi,i=this.parentBlocksDi.children,n=0;n<i.length;n++){var o=i[n].getComponent(S);if(e.uuid!=i[n].uuid&&!o.isXiaoChu&&o.numDi>=t){o.numDi++;var s=this.xxStartDi+80*o.numDi;k(i[n]).to(.1,{position:new d(s,0,0)}).start()}}},s.pddj=function(){for(var e=this.parentBlocks.children,t=0;t<e.length;t++){var i=e[t].getComponent(S),n=i.getBoundingBox_pz();i.setTouch(!0);for(var o=t+1;o<e.length;o++){var s=e[o].getComponent(S).getBoundingBox_pz();if(n.intersects(s)){i.setTouch(!1);break}}}},s.onBtnRelive=function(){console.log("Revive process"),this.gameType=0,this.layerOver.active=!1,this.btn1(),this.schedule(this.timerRun,1)},s.onBtnVideoStop=function(){console.log("Video playback stopped")},s.onBtnBackToHome=function(){g.loadScene("Home")},s.onTouchStart=function(e){if(console.log("onTouchStart"),0==this.gameType&&!this.pdBlockDiMoving()){this.numTouchStart=-1;var t=e.getUILocation(),i=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(new d(t.x,t.y,0)),n=this.parentEdit.getComponent(b).convertToNodeSpaceAR(new d(t.x,t.y,0));if(this.isEditing){if(1==this.numTypeEdit)for(var o=this.parentEdit.children,s=o.length-1;s>=0;s--){if(o[s].getComponent(b).getBoundingBox().contains(new T(n.x,n.y))){this.numBlockEditMove=s;var r=f(this.preBlock);r.parent=this.parentBlocks,r.setPosition(o[s].getPosition());var a=r.getComponent(S),l=Math.floor(30*Math.random());a.init(l),this.shuaXinLevelInfo(),this.pddj();break}}else if(0==this.numTypeEdit)for(var h=this.parentBlocks.children,c=h.length-1;c>=0;c--){h[c].getComponent(S);if(h[c].getComponent(b).getBoundingBox().contains(new T(i.x,i.y))){console.log("点中了："+c),h[c].removeFromParent(),this.shuaXinLevelInfo(),this.pddj();break}}}else{console.log(t),console.log(i);for(var u=this.parentBlocks.children,p=u.length-1;p>=0;p--){if(0!=u[p].getComponent(S).canTouch)if(u[p].getComponent(b).getBoundingBox().contains(new T(i.x,i.y))){L.canSoundPlay&&this.audioSource.playOneShot(this.arrAudio[0],1),this.numTouchStart=p,console.log("Clicked on: "+p),k(u[p]).to(.1,{scale:new d(1.2,1.2,1.2)}).start();break}}}}},s.onTouchMove=function(e){var t=e.getUILocation(),i=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(new d(t.x,t.y,0)),n=this.parentEdit.getComponent(b).convertToNodeSpaceAR(new d(t.x,t.y,0));if(this.isEditing){if(1==this.numTypeEdit)for(var o=this.parentEdit.children,s=o.length-1;s>=0;s--){if(o[s].getComponent(b).getBoundingBox().contains(new T(n.x,n.y))){if(this.numBlockEditMove==s)return;this.numBlockEditMove=s;var r=f(this.preBlock);r.parent=this.parentBlocks,r.setPosition(o[s].getPosition());var a=r.getComponent(S),l=Math.floor(30*Math.random());a.init(l),this.shuaXinLevelInfo(),this.pddj();break}}else if(0==this.numTypeEdit)for(var h=this.parentBlocks.children,c=h.length-1;c>=0;c--){h[c].getComponent(S);if(h[c].getComponent(b).getBoundingBox().contains(new T(i.x,i.y))){console.log("Clicked on: "+c),h[c].removeFromParent(),this.shuaXinLevelInfo(),this.pddj();break}}}else;},s.onTouchEnd=function(e){if(console.log("onTouchEnd"),!this.isEditing&&0==this.gameType&&!this.pdBlockDiMoving()){for(var t=e.getUILocation(),i=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(new d(t.x,t.y,0)),n=this.parentBlocks.children,o=n.length-1;o>=0;o--){if(0!=n[o].getComponent(S).canTouch)if(n[o].getComponent(b).getBoundingBox().contains(new T(i.x,i.y))&&(this.numTouchEnd=o,console.log("Confirmed clicked on: "+o),this.numTouchStart==this.numTouchEnd)){var s=n[o].getComponent(S).blockType;this.createBlockToBi(s,n[o].getPosition()),n[o].removeFromParent(),this.pddj();break}}-1!=this.numTouchStart&&k(n[this.numTouchStart]).to(.1,{scale:new d(1,1,1)}).start(),0==this.parentBlocks.children.length&&(this.gameType=1,L.canSoundPlay&&this.audioSource.playOneShot(this.arrAudio[3],1),this.numLevel++,console.log("Level Complete!"),console.log("Current level: "+this.numLevel,"-Saved record: ",+x.levelNum),this.numLevel>x.levelNum&&(console.log("Save new record: "+this.numLevel),x.saveLevelByUid(this.numLevel,this.timer)),this.interstitialAd&&this.interstitialAd.show().catch((function(e){console.error(e)})),this.scheduleOnce((function(){this.init()}),1))}},s.pdBlockDiMoving=function(){var e=!1,t=this.parentBlocksDi.children;t.length>0&&(e=t[t.length-1].getComponent(S).isMoving);return e},s.callBackBtn=function(e,t){if("btn_3"==t){if(this.arrNumDJ[2]<=0)return void this.showTip("This prop quantity is 0");if(!this.canUsePropThisLevel(2))return void this.showTip("Shuffle prop has been used this level, try next level!");this.arrNumDJ[2]--,this.markPropUsed(2),this.shuaXinDJ(),this.btn3()}else if("btn_shuChu"==t)this.shuChuPosBlocks();else if("btn_1"==t){if(this.arrNumDJ[0]<=0)return void this.showTip("This prop quantity is 0");if(!this.canUsePropThisLevel(0))return void this.showTip("Remove prop has been used this level, try next level!");this.arrNumDJ[0]--,this.markPropUsed(0),this.btn1(),this.shuaXinDJ()}else if("btn_2"==t){if(this.arrNumDJ[1]<=0)return void this.showTip("This prop quantity is 0");if(!this.canUsePropThisLevel(1))return void this.showTip("Undo prop has been used this level, try next level!");this.arrNumDJ[1]--,this.markPropUsed(1),this.btn2(),this.shuaXinDJ()}else if("btn_fh"==t){if(this.arrNumDJ[3]<=0)return void this.showTip("This prop quantity is 0");if(!this.canUsePropThisLevel(3))return void this.showTip("Revive prop has been used this level, try next level!");this.arrNumDJ[3]--,this.markPropUsed(3),this.shuaXinDJ(),this.gameType=0,this.layerOver.active=!1,this.btn1(),this.schedule(this.timerRun,1)}else if("btn_cw"==t)this.numLevel=0,this.init(),this.timerInit(),this.schedule(this.timerRun,1);else if("btn_yin"==t)for(var i=this.parentEdit.children,n=0;n<i.length;n++)"blockEdit"==i[n].name&&(i[n].active=!i[n].active);else if("btn_qingKong"==t)this.parentBlocks.removeAllChildren(),this.shuaXinLevelInfo();else if("btn_jia"==t)this.numTypeEdit=1,this.shuaXinLevelInfo();else if("btn_jian"==t)this.numTypeEdit=0,this.shuaXinLevelInfo();else if("btn_suiJi"==t){for(var o=[],s=this.parentEdit.children,r=0;r<s.length;r++)"blockEdit"==s[r].name&&o.push(s[r].getPosition());for(var a=0;a<this.numSuiJi;a++){var l=f(this.preBlock);l.parent=this.parentBlocks;var h=Math.floor(Math.random()*o.length);l.setPosition(o[h]),l.getComponent(S).init(Math.floor(15*Math.random()))}this.shuaXinLevelInfo(),this.pddj()}},s.canMoveOut=function(){for(var e=[],t=this.parentBlocksDi.children,i=0;i<t.length;i++){var n=t[i].getComponent(S);n.numDi<3&&0==n.isXiaoChu&&e.push(t[i])}return 0!=e.length||(this.arrNumDJ[0]++,this.showTip("This prop is not available now"),!1)},s.onPropBtnOut=function(){this.canMoveOut()&&this.btn1()},s.canBack=function(){for(var e=this.parentBlocksDi.children,t=-1,i=e.length-1;i>=0;i--){if(!e[i].getComponent(S).isXiaoChu){t=i;break}}var n=-1;-1!=t&&(n=e[t].getComponent(S).numDi);return-1!=n||(this.arrNumDJ[1]++,this.showTip("This prop is not available now"),!1)},s.onPropBtnBack=function(){this.canBack()&&this.btn2()},s.onPropBtnRefresh=function(){this.btn3()},s.btn2=function(){for(var e=this.parentBlocksDi.children,t=-1,i=e.length-1;i>=0;i--){if(!e[i].getComponent(S).isXiaoChu){t=i;break}}if(-1!=t){var n=e[t].getComponent(S),o=n.numDi;console.log("Preparing to undo block at position",o,", original position:",n.v3BlockOld);var s=n.v3BlockOld;if(!s)return console.error("撤回失败：没有原始位置信息"),void this.showTip("Undo failed: No position info");var r=this.parentBlocksDi.getComponent(b).convertToWorldSpaceAR(s),a=this.parentBlocks.getComponent(b).convertToNodeSpaceAR(r);console.log("Undo target position:",a);var l=f(this.preBlock);l.parent=this.parentBlocks,l.setPosition(a),l.getComponent(S).init(n.blockType),this.pddj(),n.isXiaoChu=!0,e[t].removeFromParent();for(var h=this.parentBlocksDi.children,c=0;c<h.length;c++){var u=h[c].getComponent(S);if(!u.isXiaoChu&&u.numDi>o){u.numDi=u.numDi-1;var p=this.xxStartDi+80*u.numDi;k(h[c]).to(.08,{position:new d(p,0,0)}).start()}}console.log("Undo prop used successfully, undid block at position",o),this.showTip("Undo successful!")}else this.showTip("No blocks to undo")},s.btn1=function(){for(var e=this,t=[],i=this.parentBlocksDi.children,n=0;n<i.length;n++){var o=i[n].getComponent(S);o.numDi<3&&0==o.isXiaoChu&&t.push(i[n])}for(var s=t.length,r=function(){var i=t[a].getComponent(S),n=new d(80*i.numDi-80,e.yyBlockChu,0),o=e.parentBlocksDi.getComponent(b).convertToWorldSpaceAR(n),s=e.parentBlocks.getComponent(b).convertToNodeSpaceAR(o);i.isXiaoChu=!0,k(t[a]).to(.1,{position:n}).call((function(){var t=f(e.preBlock);t.parent=e.parentBlocks,t.setPosition(s),t.getComponent(S).init(i.blockType),e.pddj(),console.log("v3_block:"+s)})).removeSelf().start()},a=t.length-1;a>=0;a--)r();for(var l=this.parentBlocksDi.children,h=0;h<l.length;h++){var c=l[h].getComponent(S);if(!c.isXiaoChu){c.numDi=c.numDi-s;var u=this.xxStartDi+80*c.numDi;k(l[h]).to(.08,{position:new d(u,0,0)}).start()}}},s.btn3=function(){for(var e=this.parentBlocks.children,t=0;t<e.length;t++){var i=e[t].getComponent(S),n=e[Math.floor(Math.random()*e.length)].getComponent(S),o=i.blockType,s=n.blockType;i.shuaXinBlockSPF(s),n.shuaXinBlockSPF(o)}},s.shuChuPosBlocks=function(){for(var e="",t=this.parentBlocks.children,i=0;i<t.length;i++){var n=t[i].getPosition();e=e+"{x:"+n.x+",y:"+n.y+"},"}t.length%3==0?t.length>0?(console.log(e),this.copyToClipBoard(e)):(console.log("Block count is 0, invalid"),this.showTip("Block count is 0, invalid")):(console.log("Block count is not multiple of 3, invalid"),this.showTip("Block count is not multiple of 3, invalid"))},s.copyToClipBoard=function(e){if(C.isNative);else if(C.isBrowser){var t=document.createElement("textarea");t.textContent=e,document.body.appendChild(t),t.readOnly=!0,t.select(),t.setSelectionRange(0,t.textContent.length);try{var i=document.execCommand("copy");return document.body.removeChild(t),i?(this.showTip("Data copied successfully!"),console.log("Data copied successfully!"),!0):(this.showTip("Copy failed!"),console.log("Copy failed!"),!1)}catch(e){return this.showTip("Copy failed!"),console.log("Copy failed!"),!1}}},s.onBtnSetting=function(){this.layerSetting.active=!0},s.timerInit=function(){this.timer=0,this.timerLabel.string=P.timeFormat(this.timer)},s.timerRun=function(){this.timer++,this.timerLabel.string=P.timeFormat(this.timer)},t}(D)).prototype,"preBlock",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(j.prototype,"parentBlocks",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(j.prototype,"parentBlocksDi",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(j.prototype,"nodeTip",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"labelLevel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(j.prototype,"layerOver",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"parentEdit",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(j.prototype,"labelBlocksInfo",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"preBlockEdit",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"arrLabelDJ",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(j.prototype,"arrAudio",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(j.prototype,"btnClose",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=j))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/gameData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(y){var x,e,r,t;return{setters:[function(y){x=y.inheritsLoose},function(y){e=y.cclegacy,r=y._decorator,t=y.Component}],execute:function(){var a;e._RF.push({},"751d6Xjyu9D+6Q00DTbHagk","gameData",void 0);var o=r.ccclass;r.property,y("gameData",o("gameData")(a=function(y){function e(){for(var x,e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return(x=y.call.apply(y,[this].concat(r))||this).arrPosLevel=void 0,x.arrTypeLevel=void 0,x}x(e,y);var r=e.prototype;return r.start=function(){this.arrTypeLevel=[5,16],this.arrPosLevel=[[{x:-160,y:440},{x:-160,y:395},{x:0,y:440},{x:0,y:395},{x:160,y:440},{x:160,y:395},{x:-160,y:260},{x:-160,y:215},{x:0,y:260},{x:0,y:215},{x:160,y:260},{x:160,y:215},{x:-160,y:80},{x:-160,y:35},{x:0,y:80},{x:0,y:35},{x:160,y:80},{x:160,y:35}],[{x:-180,y:80},{x:-20,y:170},{x:20,y:35},{x:-60,y:80},{x:-20,y:260},{x:20,y:260},{x:-100,y:35},{x:-20,y:125},{x:-180,y:35},{x:-100,y:215},{x:60,y:215},{x:180,y:35},{x:-180,y:260},{x:-140,y:125},{x:140,y:-10},{x:60,y:215},{x:-60,y:170},{x:140,y:260},{x:-20,y:80},{x:100,y:35},{x:60,y:-55},{x:20,y:80},{x:-140,y:-55},{x:-100,y:-10},{x:60,y:305},{x:100,y:305},{x:60,y:260},{x:140,y:-10},{x:180,y:-10},{x:20,y:170},{x:140,y:260},{x:20,y:305},{x:-140,y:215},{x:180,y:305},{x:-100,y:215},{x:20,y:80},{x:-60,y:-55},{x:-60,y:305},{x:60,y:-10},{x:-20,y:80},{x:100,y:-55},{x:-180,y:260},{x:180,y:125},{x:-20,y:125},{x:180,y:170},{x:-60,y:305},{x:-180,y:-10},{x:140,y:80},{x:-20,y:-55},{x:-100,y:305},{x:-180,y:35},{x:-140,y:215},{x:180,y:125},{x:-140,y:-55},{x:-20,y:35},{x:-100,y:305},{x:-60,y:170},{x:-20,y:80},{x:180,y:35},{x:60,y:215}],[{x:-40,y:350},{x:240,y:-55},{x:-120,y:-10},{x:80,y:350},{x:200,y:35},{x:80,y:260},{x:40,y:125},{x:-160,y:350},{x:40,y:305},{x:0,y:305},{x:120,y:350},{x:-240,y:125},{x:240,y:170},{x:-200,y:80},{x:-160,y:170},{x:80,y:125},{x:-200,y:260},{x:-240,y:305},{x:80,y:215},{x:40,y:350},{x:-240,y:215},{x:80,y:170},{x:-240,y:80},{x:-120,y:170},{x:80,y:-55},{x:0,y:-10},{x:-40,y:-55},{x:-200,y:350},{x:160,y:215},{x:80,y:125},{x:-40,y:260},{x:-120,y:35},{x:240,y:215},{x:-200,y:-55},{x:-120,y:125},{x:0,y:35},{x:-40,y:215},{x:-40,y:305},{x:-160,y:125},{x:-120,y:-10},{x:-200,y:35},{x:-80,y:-10},{x:-240,y:80},{x:120,y:-55},{x:-240,y:-10},{x:160,y:-55},{x:-200,y:170},{x:80,y:35},{x:-200,y:170},{x:80,y:-10},{x:-80,y:80},{x:80,y:305},{x:0,y:125},{x:0,y:125},{x:160,y:-10},{x:-240,y:260},{x:-80,y:-55},{x:40,y:80},{x:-40,y:215},{x:160,y:305},{x:200,y:260},{x:40,y:215},{x:240,y:170},{x:-80,y:350},{x:80,y:170},{x:0,y:80},{x:240,y:170},{x:240,y:305},{x:40,y:260},{x:200,y:215},{x:-80,y:350},{x:240,y:350},{x:160,y:215},{x:-200,y:215},{x:-200,y:35},{x:160,y:215},{x:0,y:-55},{x:-160,y:125},{x:-200,y:305},{x:-240,y:35},{x:-160,y:350},{x:-40,y:-10},{x:160,y:260},{x:-40,y:125},{x:-160,y:-55},{x:160,y:350},{x:-200,y:305},{x:-40,y:215},{x:80,y:125},{x:-120,y:215},{x:-240,y:305},{x:-40,y:305},{x:0,y:215},{x:160,y:170},{x:160,y:-10},{x:-80,y:260},{x:240,y:260},{x:80,y:80},{x:40,y:350},{x:120,y:-55},{x:-120,y:260},{x:160,y:215},{x:-160,y:-55},{x:240,y:305},{x:-40,y:215},{x:120,y:350},{x:240,y:305},{x:0,y:-10},{x:200,y:35},{x:-40,y:80},{x:120,y:170},{x:160,y:-10},{x:240,y:260},{x:-40,y:215},{x:-80,y:305},{x:-240,y:80},{x:120,y:260},{x:240,y:350},{x:160,y:260},{x:-200,y:305},{x:0,y:350},{x:0,y:215},{x:160,y:125},{x:240,y:35},{x:-120,y:125},{x:0,y:215},{x:0,y:170},{x:240,y:170},{x:120,y:-10},{x:-80,y:215},{x:160,y:260},{x:40,y:215},{x:-200,y:260},{x:-80,y:-55},{x:160,y:350},{x:-40,y:-10},{x:120,y:305},{x:-240,y:170},{x:80,y:35},{x:200,y:-10},{x:-200,y:80},{x:-240,y:-10},{x:-120,y:-10},{x:-160,y:80},{x:0,y:350},{x:-160,y:350},{x:40,y:125},{x:-200,y:215},{x:-240,y:260},{x:0,y:215},{x:0,y:350},{x:-240,y:125},{x:240,y:170},{x:-240,y:305},{x:-160,y:215},{x:-120,y:305},{x:0,y:305},{x:-120,y:215},{x:80,y:35},{x:240,y:80},{x:-40,y:350},{x:0,y:35},{x:240,y:260},{x:160,y:350},{x:-80,y:305},{x:160,y:215},{x:200,y:125},{x:-240,y:35},{x:120,y:80},{x:160,y:215},{x:120,y:-55},{x:120,y:260},{x:40,y:260},{x:160,y:35},{x:240,y:215},{x:80,y:35},{x:-160,y:305},{x:160,y:170},{x:-200,y:35},{x:40,y:215}],[{x:-74.346,y:-211.133},{x:-64.61,y:-211.133},{x:-54.875,y:-211.133},{x:-45.139,y:-211.133},{x:-35.404,y:-211.133},{x:-25.668,y:-211.133},{x:-15.933,y:-211.133},{x:-6.197,y:-211.133},{x:3.538,y:-211.133},{x:13.274,y:-211.133},{x:23.009,y:-211.133},{x:32.745,y:-211.133},{x:-280,y:170},{x:200,y:125},{x:-280,y:-10},{x:160,y:-10},{x:240,y:215},{x:160,y:485},{x:200,y:215},{x:-160,y:170},{x:-80,y:125},{x:-280,y:305},{x:80,y:440},{x:160,y:395},{x:0,y:305},{x:-160,y:-10},{x:160,y:-55},{x:-160,y:-55},{x:0,y:35},{x:-160,y:-55},{x:-240,y:440},{x:120,y:35},{x:80,y:125},{x:40,y:80},{x:200,y:170},{x:80,y:35},{x:-40,y:80},{x:-200,y:80},{x:240,y:440},{x:240,y:80},{x:-120,y:215},{x:-120,y:-10},{x:120,y:305},{x:120,y:440},{x:240,y:350},{x:-40,y:80},{x:-200,y:440},{x:240,y:305},{x:-200,y:440},{x:-200,y:215},{x:160,y:215},{x:240,y:215},{x:-160,y:395},{x:280,y:260},{x:240,y:-55},{x:-280,y:-55},{x:-200,y:260},{x:-240,y:305},{x:-40,y:35},{x:-80,y:125},{x:-240,y:-10},{x:-200,y:80},{x:80,y:260},{x:240,y:485},{x:-240,y:125},{x:120,y:35},{x:-200,y:125},{x:-280,y:125},{x:-40,y:305},{x:-200,y:35},{x:-80,y:-55},{x:160,y:260},{x:-160,y:485},{x:40,y:215},{x:120,y:35},{x:40,y:-10},{x:80,y:260},{x:-80,y:305},{x:-80,y:35},{x:280,y:80},{x:280,y:260},{x:240,y:215},{x:-120,y:-55},{x:280,y:80},{x:0,y:35},{x:0,y:215},{x:-120,y:305},{x:200,y:305},{x:-80,y:395},{x:0,y:35},{x:-120,y:-10},{x:-120,y:35},{x:-240,y:215},{x:0,y:350},{x:40,y:215},{x:-40,y:215},{x:240,y:170},{x:240,y:80},{x:40,y:170},{x:80,y:350},{x:80,y:170},{x:80,y:125},{x:-40,y:350},{x:-40,y:395},{x:-120,y:-55},{x:280,y:260},{x:0,y:35},{x:280,y:260},{x:280,y:260},{x:-200,y:485},{x:40,y:35},{x:160,y:-10},{x:-240,y:350},{x:-240,y:305},{x:-40,y:260},{x:200,y:350},{x:0,y:170},{x:-200,y:35},{x:-120,y:35},{x:200,y:485},{x:280,y:260},{x:200,y:35},{x:240,y:35},{x:-120,y:485},{x:-240,y:215},{x:-120,y:-10},{x:-240,y:350},{x:-40,y:485},{x:40,y:170},{x:-80,y:-10},{x:-120,y:80},{x:240,y:170},{x:0,y:215},{x:200,y:485},{x:-280,y:440},{x:240,y:215},{x:240,y:440},{x:280,y:80},{x:200,y:260},{x:-240,y:170},{x:-160,y:440},{x:0,y:350},{x:-280,y:80},{x:0,y:215},{x:120,y:170},{x:-160,y:305},{x:0,y:215},{x:-80,y:260},{x:0,y:80},{x:280,y:305},{x:120,y:125},{x:-160,y:485},{x:0,y:215},{x:0,y:170},{x:-200,y:485},{x:-160,y:440},{x:240,y:-55},{x:160,y:215},{x:120,y:80},{x:80,y:-10},{x:40,y:350},{x:80,y:350},{x:40,y:215},{x:160,y:350},{x:80,y:80},{x:240,y:170},{x:0,y:395},{x:-80,y:485},{x:120,y:125},{x:-80,y:35},{x:240,y:440},{x:80,y:485},{x:-120,y:260},{x:-200,y:440},{x:40,y:440},{x:-40,y:35},{x:40,y:395},{x:120,y:35},{x:120,y:260},{x:80,y:395},{x:200,y:215},{x:0,y:350},{x:200,y:485},{x:280,y:-10},{x:-160,y:440},{x:0,y:125},{x:160,y:260},{x:-240,y:260},{x:280,y:215},{x:200,y:215},{x:-280,y:35},{x:160,y:125},{x:80,y:125},{x:-160,y:-55},{x:40,y:-55},{x:240,y:215},{x:0,y:170},{x:-80,y:395},{x:80,y:-10},{x:-80,y:-10},{x:80,y:80},{x:120,y:170},{x:160,y:485},{x:-240,y:350},{x:280,y:440},{x:-240,y:170},{x:80,y:-10},{x:160,y:350},{x:-120,y:395},{x:240,y:125},{x:80,y:350},{x:-200,y:215},{x:240,y:395},{x:-280,y:-10},{x:160,y:125},{x:-40,y:215},{x:0,y:80},{x:-200,y:350},{x:280,y:125},{x:40,y:80},{x:160,y:260},{x:160,y:440},{x:200,y:440},{x:280,y:35},{x:160,y:305},{x:-40,y:305},{x:200,y:485},{x:120,y:-10},{x:120,y:125},{x:-80,y:485},{x:-240,y:440},{x:-200,y:395},{x:160,y:35},{x:240,y:215},{x:-80,y:305},{x:120,y:35},{x:280,y:215},{x:240,y:80},{x:-40,y:170},{x:160,y:440},{x:-80,y:305},{x:-40,y:440},{x:280,y:80},{x:160,y:-10},{x:-240,y:80},{x:-80,y:170},{x:-240,y:170},{x:-160,y:440},{x:80,y:350},{x:120,y:35},{x:200,y:440},{x:120,y:170},{x:-200,y:215},{x:-160,y:125},{x:-160,y:305},{x:0,y:170},{x:-200,y:80},{x:-200,y:215},{x:-160,y:125},{x:-200,y:260},{x:-80,y:35},{x:-240,y:440},{x:120,y:80},{x:280,y:440},{x:-80,y:440},{x:80,y:395},{x:80,y:35},{x:-80,y:170},{x:240,y:485},{x:-240,y:-10},{x:-120,y:485},{x:40,y:485},{x:80,y:440},{x:-240,y:350},{x:240,y:395},{x:-200,y:260},{x:0,y:170},{x:-240,y:-55},{x:-120,y:305},{x:0,y:305},{x:-200,y:215},{x:280,y:-55},{x:160,y:260},{x:-200,y:170},{x:-280,y:260},{x:40,y:-55},{x:240,y:350},{x:-280,y:485},{x:-160,y:125},{x:-120,y:440},{x:-240,y:350},{x:-240,y:440},{x:40,y:125},{x:-80,y:440},{x:-160,y:215},{x:40,y:350},{x:160,y:-55},{x:80,y:-10},{x:-160,y:-55},{x:-240,y:-10},{x:0,y:350},{x:-200,y:260},{x:-120,y:125},{x:-160,y:125},{x:-40,y:260},{x:280,y:170},{x:240,y:170},{x:-240,y:170},{x:-120,y:125},{x:-240,y:35},{x:160,y:125},{x:-280,y:260}],[{x:-40,y:305},{x:-40,y:305},{x:40,y:260},{x:0,y:35},{x:200,y:170},{x:-200,y:215},{x:-80,y:35},{x:-240,y:395},{x:120,y:125},{x:160,y:485},{x:240,y:-10},{x:-160,y:440},{x:-40,y:350},{x:40,y:35},{x:120,y:485},{x:-200,y:125},{x:40,y:170},{x:-40,y:350},{x:-240,y:125},{x:120,y:350},{x:0,y:440},{x:-200,y:170},{x:-40,y:215},{x:280,y:440},{x:-200,y:170},{x:-280,y:80},{x:80,y:-10},{x:0,y:305},{x:280,y:170},{x:-160,y:305},{x:0,y:-10},{x:40,y:125},{x:-240,y:395},{x:-280,y:395},{x:200,y:35},{x:240,y:350},{x:160,y:215},{x:120,y:80},{x:-40,y:-55},{x:160,y:-55},{x:160,y:125},{x:80,y:-55},{x:-80,y:260},{x:-280,y:350},{x:0,y:485},{x:160,y:170},{x:200,y:440},{x:280,y:215},{x:-240,y:-55},{x:-200,y:350},{x:-40,y:485},{x:160,y:170},{x:120,y:80},{x:-240,y:35},{x:160,y:260},{x:-40,y:260},{x:240,y:125},{x:160,y:260},{x:-40,y:440},{x:-200,y:440},{x:-240,y:305},{x:0,y:305},{x:-40,y:35},{x:-40,y:485},{x:-120,y:215},{x:-80,y:35},{x:-200,y:395},{x:160,y:125},{x:-160,y:35},{x:120,y:485},{x:-120,y:350},{x:-120,y:215},{x:-160,y:-10},{x:200,y:125},{x:200,y:-55},{x:200,y:80},{x:0,y:305},{x:-280,y:35},{x:-160,y:-10},{x:-40,y:80},{x:40,y:305},{x:-280,y:-55},{x:-240,y:485},{x:240,y:80},{x:120,y:-55},{x:0,y:-10},{x:-40,y:395},{x:40,y:170},{x:80,y:80},{x:120,y:305},{x:280,y:440},{x:240,y:350},{x:0,y:215},{x:-80,y:395},{x:0,y:-10},{x:-40,y:215},{x:40,y:80},{x:-240,y:260},{x:-40,y:305},{x:-160,y:-55},{x:200,y:80},{x:280,y:305},{x:-200,y:170},{x:-120,y:395},{x:120,y:125},{x:160,y:485},{x:0,y:80},{x:-80,y:35},{x:120,y:80},{x:120,y:-55},{x:-200,y:215},{x:-280,y:170},{x:160,y:80},{x:-240,y:305},{x:80,y:440},{x:120,y:170},{x:-120,y:170},{x:-40,y:170},{x:-200,y:170},{x:-80,y:395},{x:80,y:440},{x:160,y:305},{x:120,y:350},{x:200,y:440},{x:-80,y:-55},{x:280,y:395},{x:-240,y:-10},{x:-280,y:170},{x:-240,y:215},{x:280,y:80},{x:200,y:260},{x:280,y:395},{x:0,y:35},{x:120,y:395},{x:40,y:125},{x:240,y:-10},{x:-200,y:395},{x:-40,y:440},{x:-40,y:395},{x:-280,y:80},{x:40,y:395},{x:-160,y:125},{x:-160,y:-55},{x:40,y:35},{x:0,y:440},{x:-280,y:485},{x:-80,y:350},{x:-280,y:350},{x:240,y:215},{x:40,y:395},{x:80,y:440},{x:-40,y:170},{x:-80,y:125},{x:-80,y:35},{x:0,y:35},{x:-280,y:35},{x:-240,y:395},{x:-40,y:35},{x:280,y:170},{x:-40,y:305},{x:160,y:35},{x:-80,y:395},{x:240,y:215},{x:160,y:395},{x:40,y:35},{x:80,y:125},{x:200,y:-10},{x:-200,y:395},{x:-120,y:80},{x:0,y:215},{x:80,y:350},{x:160,y:170},{x:-280,y:35},{x:-160,y:80},{x:200,y:80},{x:40,y:-55},{x:80,y:350},{x:-200,y:260},{x:280,y:215},{x:-200,y:350},{x:-240,y:125},{x:160,y:305},{x:40,y:215},{x:80,y:-10},{x:120,y:125},{x:-80,y:-10},{x:-240,y:215},{x:-120,y:395},{x:40,y:485},{x:240,y:260},{x:-160,y:305},{x:-120,y:260},{x:-80,y:35},{x:-280,y:260},{x:160,y:-10},{x:-80,y:125},{x:280,y:305},{x:-40,y:305},{x:-80,y:305},{x:120,y:-55},{x:280,y:215},{x:-240,y:125},{x:40,y:80},{x:120,y:125},{x:160,y:305},{x:120,y:35},{x:0,y:125},{x:160,y:350},{x:-240,y:305},{x:-120,y:-10},{x:-240,y:440},{x:0,y:35},{x:160,y:125},{x:-40,y:350},{x:-80,y:-10},{x:-40,y:260},{x:-240,y:125},{x:-280,y:170},{x:-280,y:350},{x:80,y:440},{x:-240,y:440},{x:-120,y:395},{x:160,y:305},{x:120,y:-55},{x:-120,y:-10},{x:-120,y:305},{x:-160,y:485},{x:120,y:215},{x:-120,y:-10},{x:-40,y:80},{x:0,y:215},{x:-280,y:440},{x:120,y:-10},{x:-280,y:170},{x:-200,y:395},{x:280,y:215},{x:-200,y:-10},{x:-160,y:260},{x:-80,y:215},{x:-200,y:485},{x:-120,y:485},{x:-240,y:-10},{x:-40,y:305},{x:280,y:260},{x:-120,y:260},{x:120,y:485},{x:-160,y:-55},{x:240,y:350},{x:280,y:350},{x:-280,y:-10},{x:280,y:485},{x:-200,y:215},{x:80,y:215},{x:-240,y:-10},{x:240,y:-55},{x:-120,y:215},{x:280,y:260},{x:120,y:80},{x:160,y:-10},{x:40,y:125},{x:280,y:350},{x:-160,y:350},{x:120,y:260},{x:0,y:350},{x:-40,y:-55},{x:-80,y:305},{x:-160,y:215},{x:0,y:-10},{x:160,y:125},{x:120,y:170},{x:-200,y:395},{x:80,y:-10},{x:200,y:440},{x:-200,y:-10},{x:-200,y:170},{x:200,y:80},{x:0,y:350},{x:200,y:485},{x:-120,y:260},{x:-160,y:80},{x:-280,y:-55},{x:40,y:350},{x:80,y:305},{x:-200,y:305},{x:-280,y:350},{x:-80,y:-55},{x:240,y:-55},{x:-120,y:-55},{x:80,y:-10},{x:120,y:215},{x:-280,y:440},{x:240,y:305},{x:40,y:35},{x:40,y:305},{x:240,y:215},{x:0,y:80},{x:-80,y:215},{x:-40,y:35},{x:120,y:395},{x:80,y:485},{x:-40,y:395},{x:160,y:35},{x:-240,y:35},{x:80,y:305},{x:-280,y:170},{x:0,y:485},{x:40,y:305},{x:-120,y:485},{x:-200,y:215},{x:160,y:170},{x:-280,y:440},{x:-40,y:-55},{x:-160,y:-10},{x:-80,y:485},{x:240,y:485},{x:160,y:260},{x:-120,y:80},{x:240,y:350},{x:120,y:305},{x:-240,y:170},{x:-200,y:125},{x:160,y:-55},{x:-80,y:395},{x:-200,y:-55},{x:160,y:305},{x:160,y:35},{x:-80,y:350},{x:-80,y:-55},{x:-160,y:170},{x:-200,y:485},{x:-160,y:-10},{x:240,y:-55},{x:0,y:125},{x:280,y:440},{x:-40,y:350},{x:80,y:395},{x:280,y:395},{x:200,y:215},{x:-240,y:305},{x:40,y:215},{x:-80,y:395},{x:-160,y:395},{x:160,y:35},{x:80,y:170},{x:-80,y:260},{x:160,y:-10},{x:40,y:-55},{x:280,y:305},{x:240,y:80},{x:160,y:215},{x:200,y:440},{x:240,y:-10},{x:-40,y:395},{x:240,y:80},{x:0,y:350},{x:120,y:440},{x:120,y:80},{x:-160,y:-55},{x:80,y:-55},{x:0,y:305},{x:-160,y:125},{x:240,y:350},{x:200,y:80},{x:-240,y:215},{x:280,y:80},{x:-120,y:485},{x:40,y:350},{x:-40,y:215},{x:-80,y:35},{x:-80,y:35},{x:40,y:-10},{x:80,y:350},{x:-160,y:170},{x:120,y:125},{x:80,y:350},{x:-80,y:215},{x:280,y:80},{x:-160,y:260},{x:-120,y:215},{x:280,y:35},{x:-200,y:440},{x:-80,y:-10},{x:-160,y:-10},{x:-200,y:215},{x:240,y:260},{x:-40,y:395},{x:240,y:440},{x:-280,y:80},{x:280,y:485},{x:-80,y:170},{x:-240,y:80},{x:-40,y:-55},{x:-200,y:-55},{x:-280,y:80},{x:80,y:35},{x:-200,y:-55},{x:-240,y:350},{x:40,y:80},{x:120,y:350},{x:-40,y:440},{x:-240,y:35},{x:-200,y:305},{x:160,y:125},{x:200,y:-10},{x:120,y:-55},{x:-40,y:-10},{x:160,y:35},{x:80,y:35},{x:-160,y:125},{x:-40,y:80},{x:240,y:80},{x:160,y:125},{x:-160,y:35},{x:280,y:260},{x:-200,y:350},{x:80,y:35},{x:-80,y:35},{x:200,y:-10},{x:200,y:350},{x:-40,y:305}]];for(var y=0;y<this.arrPosLevel.length;y++)console.log(this.arrPosLevel[y].length)},r.update=function(y){},e}(t))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/GetLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonManager.ts","./Tools.ts","./Loading.ts"],(function(t){var e,n,o,a,i,s,r,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.Label,i=t.Component},function(t){s=t.JsonManager},function(t){r=t.default},function(t){l=t.wx}],execute:function(){var c;n._RF.push({},"9fa9bVxuplLCpL+APKHJ3eF","GetLayer",void 0);var p=o.ccclass;o.property,t("GetLayer",p("GetLayer")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).desTop=null,e.desBottom=null,e.inited=!1,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this.desTop=this.node.getChildByName("Panel").getChildByName("DesPanel").getChildByName("DesTop").getComponent(a),this.desBottom=this.node.getChildByName("Panel").getChildByName("DesBottom").getComponent(a)},o.onEnable=function(){this.inited||this.initLayer()},o.initLayer=function(){s.getLayerInfo&&(this.desTop.string=s.getLayerInfo.desTop,this.desBottom.string=s.getLayerInfo.desBottom,this.inited=!0)},o.onCopyBtn=function(){"wx"==r.platform&&(l.setClipboardData({data:s.getLayerInfo.desTop}),r.showCommonTips("复制成功",this.node.parent))},o.onMiniBtn=function(){"wx"==r.platform&&(console.log("navigateToMiniProgram"),l.navigateToMiniProgram({appId:"wxaaf796d43c4e9669",path:"",extraData:{foo:"bar"},envVersion:"",success:function(t){}}))},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WXManager.ts","./Tools.ts","./Loading.ts"],(function(e){var o,t,n,i,a,r,l,s,c,h;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,i=e.director,a=e.UITransform,r=e.view,l=e.Component},function(e){s=e.WXManager},function(e){c=e.default},function(e){h=e.wx}],execute:function(){var g;t._RF.push({},"b67dcxz5gJKo6o5bzV5U9bj","Home",void 0);var u=n.ccclass;n.property,e("Home",u("Home")(g=function(e){function t(){for(var o,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(o=e.call.apply(e,[this].concat(n))||this).layerGet=null,o.layerBook=null,o.layerRank=null,o.GET_LINK_URL="https://x.com/ayun24335167",o.RANK_LINK_URL="https://x.com/zhouuuu350962",o}o(t,e);var n=t.prototype;return n.onLoad=function(){this.layerBook=this.node.getChildByName("LayerBook"),this.layerGet=this.node.getChildByName("LayerGet"),this.layerRank=this.node.getChildByName("LayerRank"),this.layerBook&&(this.layerBook.active=!1)},n.start=function(){var e=this.node.getChildByName("Home").getChildByName("BtnRank"),o=this.node.getChildByName("Home"),t=this.getBtnRankRect(e,o);s.wxLogin(t,this.onBtnRank.bind(this))},n.onBtnGet=function(){this.GET_LINK_URL?this.openUrl(this.GET_LINK_URL):console.log("请在GET_LINK_URL中配置链接地址")},n.onBtnBook=function(){console.log("LayerBook已隐藏")},n.onBtnRank=function(){this.RANK_LINK_URL?this.openUrl(this.RANK_LINK_URL):console.log("请在RANK_LINK_URL中配置链接地址")},n.onCloseLayer=function(){this.layerGet.active=!1,this.layerBook.active=!1,this.layerRank.active=!1},n.onBtnStart=function(){i.loadScene("game")},n.openUrl=function(e){"wx"==c.platform?h&&h.navigateToMiniProgram&&h.navigateToMiniProgram({appId:"wxaaf796d43c4e9669",path:"",extraData:{foo:"bar"},envVersion:"",success:function(e){console.log("跳转成功")},fail:function(e){console.log("跳转失败:",e)}}):"undefined"!=typeof window&&window.open?window.open(e,"_blank"):console.log("无法打开链接:",e)},n.getBtnRankRect=function(e,o){if(h){var t=h.getSystemInfoSync(),n=e.getComponent(a).getBoundingBoxToWorld(),i=r.getDevicePixelRatio(),l=r.getScaleX()/i,s=o.getComponent(a).height-r.getDesignResolutionSize().height;return{left:n.x*l,top:t.screenHeight-(n.y+n.height)*l-s/2*l,width:n.width*l,height:n.height*l}}},t}(l))||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/HttpManager.ts",["cc","./AppConfig.ts"],(function(e){var t,a,n;return{setters:[function(e){t=e.cclegacy,a=e._decorator},function(e){n=e.AppConfig}],execute:function(){var s,i;t._RF.push({},"ede34LsO/NN0aEh2L67/ghH","HttpManager",void 0);var o=a.ccclass;a.property,e("HttpManager",o("HttpManager")(((i=function(){function e(){}return e.httpRequest=function(e,t,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&n.status>=200&&n.status<400&&t(n.responseText)};var s="https://eliminate-game.sxycykj.net//api/app/clientAPI/"+e+a;n.open("GET",s,!0),n.send()},e.getOpenId=function(e,t){var a=this,s="appid="+n.appid+"&secret="+n.secret+"&js_code="+e;console.log("getOpenId-data:",s),this.httpRequest("getOpenId/?",(function(e){console.log("getOpenId-res:",e),a.uid=JSON.parse(e).data.openid,console.log("uid:",a.uid),t()}),s)},e.saveUserInfo=function(e,t){var a=this;this.nickName=e,this.avatarUrl=t;var n="uid="+this.uid+"&nickname="+this.nickName+"&img="+this.avatarUrl;console.log("saveUserInfo-data:",n),this.httpRequest("saveUserInfo/?",(function(e){a.levelNum=JSON.parse(e).data.level_max,a.levelTime=Number(JSON.parse(e).data.level_time),console.log("保存用户信息:",e,a.levelNum,a.levelTime)}),n)},e.saveLevelByUid=function(e,t){var a="uid="+this.uid+"&level_num="+e+"&level_time="+t;console.log("saveUsaveLevelByUid-data:",a),this.httpRequest("saveLevelByUid/?",(function(e){console.log("保存关卡信息:",e)}),a)},e.getRank=function(e){this.httpRequest("getRank",e,"")},e}()).uid=20230521,i.nickName="default_nickname",i.avatarUrl="default_img",i.levelNum=0,i.levelTime=0,s=i))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemImageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.Component}],execute:function(){var o;n._RF.push({},"b4129sfMipJJ6NEYo9/zjy7","ItemImageManager",void 0);var c=r.ccclass;r.property,e("ItemImageManager",c("ItemImageManager")(o=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){},n}(a))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/JsonManager.ts",["cc"],(function(o){var n,e,s,t,r;return{setters:[function(o){n=o.cclegacy,e=o._decorator,s=o.resources,t=o.JsonAsset,r=o.SpriteFrame}],execute:function(){n._RF.push({},"d8e5bXZXdZFxanaWvOtCIZF","JsonManager",void 0);e.ccclass,e.property;var i=o("JsonManager",function(){function o(){}return o.loadHomeJson=function(){var o=this;this.getLayerInfo&&this.bookList.length>0||s.loadDir("json",t,(function(n,e){n?console.log("json加载失败",n):(o.getLayerInfo=e.find((function(o){return"GetConfig"==o.name})).json,o.bookList=e.find((function(o){return"BookConfig"==o.name})).json,console.log("------------------------------------json加载完成"),console.log(o.getLayerInfo,o.bookList),s.loadDir("bookIcons",r,(function(n,e){if(n)console.log("bookIcons加载失败:",n);else{e.sort((function(o,n){return Number(o.name)-Number(n.name)}));for(var s=0;s<o.bookList.length;s++)o.bookList[s].icon=e[s];console.log("------------------------------------bookIcons加载完成"),console.log(o.bookList),o.jsonLoaded=!0}})))}))},o}());i.getLayerInfo=void 0,i.bookList=void 0,i.jsonLoaded=!1,n._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonManager.ts","./PrefabManager.ts","./Tools.ts"],(function(o){var n,a,r,t,e,i,s,d,l;return{setters:[function(o){n=o.inheritsLoose},function(o){a=o.cclegacy,r=o._decorator,t=o.director,e=o.ProgressBar,i=o.Component},function(o){s=o.JsonManager},function(o){d=o.PrefabManager},function(o){l=o.default}],execute:function(){var c;a._RF.push({},"a5f73ZfdNNEVpKdiC2BE37M","Loading",void 0);var g=r.ccclass;r.property,o("wx",window.wx),o("Loading",g("Loading")(c=function(o){function a(){for(var n,a=arguments.length,r=new Array(a),t=0;t<a;t++)r[t]=arguments[t];return(n=o.call.apply(o,[this].concat(r))||this).loadingBar=null,n}n(a,o);var r=a.prototype;return r.onLoad=function(){t.preloadScene("Home"),l.getPlatformInfo(),this.loadingBar=this.node.getChildByName("LoadingBar").getComponent(e)},r.start=function(){this.initBar(),this.loadRes()},r.update=function(){this.loadBar()},r.loadRes=function(){d.loadPrefab(),s.loadHomeJson()},r.initBar=function(){this.loadingBar.progress=0},r.loadBar=function(){this.loadingBar.progress>=1||((this.loadingBar.progress<=.9||d.prefabsLoaded&&s.jsonLoaded)&&(this.loadingBar.progress+=.05*Math.random()),this.loadingBar.progress>=1&&t.loadScene("Home"))},a}(i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AppConfig.ts","./Tools.ts","./block.ts","./game.ts","./gameData.ts","./BookLayer.ts","./GetLayer.ts","./Home.ts","./Loading.ts","./RankLayer.ts","./SettingLayer.ts","./ADManager.ts","./AudioManager.ts","./HttpManager.ts","./ItemImageManager.ts","./JsonManager.ts","./PrefabManager.ts","./WXManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PrefabManager.ts",["cc"],(function(e){var r,n,a,o;return{setters:[function(e){r=e.cclegacy,n=e._decorator,a=e.resources,o=e.Prefab}],execute:function(){r._RF.push({},"f5fbcMBOdNEQJ0VP8Aqi4+3","PrefabManager",void 0);n.ccclass,n.property;var t=e("PrefabManager",function(){function e(){}return e.loadPrefab=function(){var e=this;a.loadDir("prefabs",o,(function(r,n){r?console.log("prefabs加载失败",r):(e.bookItemPrefab=n.find((function(e){return"BookItem"==e.name})),e.rankItemPrefab=n.find((function(e){return"RankItem"==e.name})),e.tipsPrefab=n.find((function(e){return"Tips"==e.name})),console.log("------------------------------------预制体加载完成："),console.log(e.rankItemPrefab,e.bookItemPrefab),e.prefabsLoaded=!0)}))},e}());t.rankItemPrefab=null,t.bookItemPrefab=null,t.tipsPrefab=null,t.prefabsLoaded=!1,r._RF.pop()}}}));

System.register("chunks:///_virtual/RankLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HttpManager.ts","./PrefabManager.ts","./Tools.ts"],(function(e){var t,n,a,i,o,l,r,s,g,c,d,m,h,u,f;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.ScrollView,o=e.v2,l=e.instantiate,r=e.Label,s=e.Sprite,g=e.assetManager,c=e.SpriteFrame,d=e.Texture2D,m=e.Component},function(e){h=e.HttpManager},function(e){u=e.PrefabManager},function(e){f=e.default}],execute:function(){var p;n._RF.push({},"dbe8faA0dlId7vkmn9fvfno","RankLayer",void 0);var y=a.ccclass;a.property,e("Rank",y("Rank")(p=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).listPanel=null,t.data=[],t.inited=!1,t.defaultImage=null,t}t(n,e);var a=n.prototype;return a.onLoad=function(){this.listPanel=this.node.getChildByName("PanelBg").getChildByName("ListPanel").getChildByName("view").getChildByName("content")},a.onEnable=function(){this.initScroll(),this.inited||this.setLayer()},a.setLayer=function(){var e=this,t=this;if(this.data.length>0){for(var n=function(){var t=l(u.rankItemPrefab);t.getChildByName("RankNum").getComponent(r).string=a+1+".",t.getChildByName("Name").getComponent(r).string=e.data[a].nickname,t.getChildByName("ScoreAndTime").getChildByName("Score").getComponent(r).string=e.data[a].level_max,t.getChildByName("ScoreAndTime").getChildByName("Time").getComponent(r).string=f.timeFormat(e.data[a].level_time);var n=e.data[a].img,i=t.getChildByName("Profile").getChildByName("Mask").getChildByName("Image").getComponent(s);"https://"==n.substring(-1,8)&&g.loadRemote(n,{ext:".jpg"},(function(e,t){if(e)console.log(e);else{console.log("加载头像成功:",t,typeof t);var n=new c,a=new d;a.image=t,n.texture=a,i.spriteFrame=n}})),t.setParent(e.listPanel)},a=0;a<this.data.length;a++)n();this.inited=!0}else h.getRank((function(e){t.data=JSON.parse(e).data.rankList,console.log("获取排行榜数据:",t.data),t.setLayer()}))},a.initScroll=function(){this.node.getChildByName("PanelBg").getChildByName("ListPanel").getComponent(i).scrollToOffset(o(0,0))},n}(m))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var n,i,e,o,a,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,o=t.AudioSource,a=t.director,c=t.Component},function(t){u=t.AudioManager}],execute:function(){var s;i._RF.push({},"a4945siLfNNY45mbSxlSNgz","SettingLayer",void 0);var l=e.ccclass;e.property,t("SettingLayer",l("SettingLayer")(s=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).btnMusic=null,n.btnSound=null,n.layerPrivacy=null,n.audioSource=null,n}n(i,t);var e=i.prototype;return e.onLoad=function(){this.btnMusic=this.node.getChildByName("Panel").getChildByName("Music").getChildByName("Btn"),this.btnSound=this.node.getChildByName("Panel").getChildByName("Sound").getChildByName("Btn"),this.layerPrivacy=this.node.parent.getChildByName("LayerPrivacy"),this.audioSource=this.node.parent.getComponent(o)},e.start=function(){this.init()},e.init=function(){u.canMusicPlay?this.setMusic("on"):this.setMusic("off"),u.canSoundPlay?this.setSound("on"):this.setSound("off")},e.setMusic=function(t){"on"==t?(this.btnMusic.getChildByName("On").active=!0,this.btnMusic.getChildByName("Off").active=!1,this.audioSource.playing||(u.canMusicPlay=!0,this.audioSource.play())):(this.btnMusic.getChildByName("On").active=!1,this.btnMusic.getChildByName("Off").active=!0,this.audioSource.playing&&(u.canMusicPlay=!1,this.audioSource.pause()))},e.setSound=function(t){"on"==t?(this.btnSound.getChildByName("On").active=!0,this.btnSound.getChildByName("Off").active=!1,u.canSoundPlay=!0):(this.btnSound.getChildByName("On").active=!1,this.btnSound.getChildByName("Off").active=!0,u.canSoundPlay=!1)},e.onBtnMusic=function(){u.canMusicPlay?this.setMusic("off"):this.setMusic("on")},e.onBtnSound=function(){u.canSoundPlay?this.setSound("off"):this.setSound("on")},e.onBtnClose=function(){this.node.active=!1},e.onBtnGiveUp=function(){a.loadScene("Home")},e.onBtnPrivacy=function(){this.layerPrivacy.active=!0},e.onClosePrivacy=function(){this.layerPrivacy.active=!1},i}(c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["cc","./PrefabManager.ts"],(function(o){var t,n,r,e;return{setters:[function(o){t=o.cclegacy,n=o.instantiate,r=o.Label},function(o){e=o.PrefabManager}],execute:function(){t._RF.push({},"544c7yMda1C1q32SSXLL8VE","Tools",void 0),o("default",function(){function o(){}return o.showToast=function(t){switch(o.platform){case"qg":window.qg.showToast({message:t});break;case"qq":window.qq.showToast({title:t});break;case"ks":window.ks.showToast({title:t,icon:"none"});break;case"tt":window.tt.showToast({title:t,icon:"none"})}},o.showCommonTips=function(o,t){if(e.tipsPrefab){var a=n(e.tipsPrefab);a.getComponent(r).string=o,a.setParent(t),setTimeout((function(){t.removeChild(a)}),2e3)}},o.timeFormat=function(o){var t,n;return n=String(o%60>=10?o%60:"0"+o%10),t=Math.floor(o/60)%60>=10?Math.floor(o/60)%60:"0"+Math.floor(o/60)%60,(Math.floor(o/3600)>=10?Math.floor(o/3600):"0"+Math.floor(o/3600))+":"+t+":"+n},o.getPlatformInfo=function(){return o.platform?o.platform:window.qq?(o.platform="qq",void console.log("qq平台")):window.wx?(o.platform="wx",void console.log("wx平台")):window.qg?(o.platform="qg",void console.log("vivo平台")):window.ks?(o.platform="ks",void console.log("快手平台")):window.tt?(o.platform="tt",void console.log("头条平台")):void 0},o.shuffle=function(o){var t,n,r;for(r=o.length;r;r--)t=Math.floor(Math.random()*r),n=o[r-1],o[r-1]=o[t],o[t]=n;return o},o.deepCopy=function(o){if(!(o.length<=0))return[].concat(JSON.parse(JSON.stringify(o)))},o.totalShuffle=function(t,n){if(0!=t.length){if(n>0)for(var r=[],e=0;e<n;e++){var a=this.getRandomNum(e*Math.floor(t/n),(e+1)*Math.floor(t/n));r.push(a)}var i=o.deepCopy(t);i=this.shuffle(i);for(var f=0;f<t.length;f++)if(t[f]==i[f]){var l=void 0,s=i[l=f<i.length/2?f+1:f-1];i[l]=i[f],i[f]=s,console.log("交换了：",i[f],i[l])}return i}},o.getRandomNum=function(o,t){var n=Math.abs(t-o),r=Math.random();return Math.round(o)+Math.round(r*n)},o.trim2=function(o){return o.replace(/\s+/g,"")},o.splitGroup=function(o,t){if(!(o.length<0||o.length<t)){for(var n=[],r=0;r<t;r++)n[r]=[];for(var e=0;e<t;){for(var a=0;a<t&&null!=o[a*t+e];a++)n[a].push(o[a*t+e]);e++}return n}},o}()).platform=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/WXManager.ts",["cc","./Loading.ts","./Tools.ts","./HttpManager.ts"],(function(e){var t,o,n,s,c,i,r;return{setters:[function(e){t=e.cclegacy,o=e._decorator,n=e.UITransform,s=e.view},function(e){c=e.wx},function(e){i=e.default},function(e){r=e.HttpManager}],execute:function(){t._RF.push({},"4fda0/6xA1JfIi90qV5evr4","WXManager",void 0);o.ccclass,o.property;e("WXManager",function(){function e(){}return e.wxLogin=function(e,t){if(console.log("进入微信登录"),"wx"==i.platform){var o=this;c.login({success:function(n){console.log("微信登录成功:",n),r.getOpenId(n.code,(function(){o.onGetSetting(e,t)}))},fail:function(e){console.log("登录失败",e)}})}else console.log("不是微信平台！")},e.onGetSetting=function(e,t){var o=this;c.getSetting({success:function(n){if(n.authSetting["scope.userInfo"])c.getUserInfo({success:function(e){console.log("获取用户信息成功：",e),r.saveUserInfo(e.userInfo.nickName,e.userInfo.avatarUrl)},fail:function(e){console.log("获取用户信息失败：",e)}});else{console.log("创建全屏授权按钮");var s=c.getSystemInfoSync(),i=c.createUserInfoButton({lang:"zh_CN",type:"text",text:"",style:{left:0,top:0,width:s.windowWidth,height:s.windowHeight,backgroundColor:"#00000000",borderColor:"#ffffff",textAlign:"center",fontSize:16,lineHeight:s.windowHeight}});i.onTap((function(n){n.userInfo?(console.log("全屏按钮授权成功：",n.userInfo),r.saveUserInfo(n.userInfo.nickName,n.userInfo.avatarUrl),i.destroy()):(console.log("全屏按钮授权失败：",n),o.createRankOnGetUserInfoBtn(e,t),i.destroy())})),i.show()}}})},e.createRankOnGetUserInfoBtn=function(e,t){console.log("创建排行榜授权按钮:",e);var o=c.createUserInfoButton({lang:"zh_CN",type:"text",text:"",style:{left:e.left,top:e.top,width:e.width,height:e.height,backgroundColor:"#00000000",borderColor:"#ffffff",textAlign:"center",fontSize:16,lineHeight:16}});console.log("创建排行榜授权按钮成功:",o),o.onTap((function(e){e.userInfo?(console.log("排行榜授权成功：",e),o.destroy(),t()):(console.log("排行榜授权失败：",e),c.showModal({title:"温馨提示",content:"需要您的用户信息才可以查看排行榜！",showCancel:!1}))})),o.show()},e.getBtnRankRect=function(e,t){if(c){var o=c.getSystemInfoSync(),i=e.getComponent(n).getBoundingBoxToWorld(),r=s.getDevicePixelRatio(),a=s.getScaleX()/r,l=t.getComponent(n).height-s.getDesignResolutionSize().height;return{left:i.x*a,top:o.screenHeight-(i.y+i.height)*a-l/2*a,width:i.width*a,height:i.height*a}}},e}()).videoClipUrls=["https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/dance.m4v","https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/father.m4v","https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/work.m4v","https://cloudcreategame.oss-cn-beijing.aliyuncs.com/pro/games/test/sheep-sheep-res/world-cup.m4v"],t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});